---
title: "Turtle Nesting Census ETL"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Turtle Nesting Census ETL}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(wastdr)
library(drake)
```

This workflow imports all Turtle Nesting Census data captured via OpenDataKit
from ODK Central to WAStD.

* Download all ODKC data including attachments
* Load existing nesting records from TSC: load only a minimal set of 
  source, source ID, QA status to determine later what to create / update / skip:
  * does not exist in TSC: create (POST)
  * exists in TSC with status "new": update (PATCH)
  * exists in TSC with status higher than "new": skip (and message)
* Make (transform) ODKC to WAStD data
* Load transformed data into WAStD's API (create/update/skip)
* No QA
